{"ast":null,"code":"import _defineProperty from\"C:/Users/praka/Desktop/deploy/master-admin-Appzo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"C:/Users/praka/Desktop/deploy/master-admin-Appzo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"C:/Users/praka/Desktop/deploy/master-admin-Appzo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"C:/Users/praka/Desktop/deploy/master-admin-Appzo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"children\",\"classes\",\"onClose\"];import React from'react';import{withStyles}from'@material-ui/core/styles';import Button from'@material-ui/core/Button';import Alert from'@material-ui/lab/Alert';import Dialog from'@material-ui/core/Dialog';import MuiDialogTitle from'@material-ui/core/DialogTitle';import MuiDialogContent from'@material-ui/core/DialogContent';import MuiDialogActions from'@material-ui/core/DialogActions';import IconButton from'@material-ui/core/IconButton';import CloseIcon from'@material-ui/icons/Close';import Box from'@material-ui/core/Box';import Typography from'@material-ui/core/Typography';import PublishIcon from'@material-ui/icons/Publish';import{useState,useEffect,useCallback,useRef}from'react';import CloudUploadIcon from'@material-ui/icons/CloudUpload';import{useHistory}from\"react-router-dom\";import'react-image-crop/dist/ReactCrop.css';import ReactCrop from'react-image-crop';import Snackbar from'@material-ui/core/Snackbar';import{makeStyles}from\"@material-ui/core/styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styless=makeStyles(function(theme){return{root:{background:'#4caf50'}};});// Code for Image crop \nfunction generateDownload(canvas,crop){if(!crop||!canvas){return;}canvas.toBlob(function(blob){var previewUrl=window.URL.createObjectURL(blob);var anchor=document.createElement('a');anchor.download='cropPreview.png';anchor.href=URL.createObjectURL(blob);anchor.click();window.URL.revokeObjectURL(previewUrl);},'image/png',1);}// End of Image crop \nvar styles=function styles(theme){return{root:{margin:0,padding:theme.spacing(2)},closeButton:{position:'absolute',right:theme.spacing(1),top:theme.spacing(1),color:theme.palette.grey[500]}};};var DialogTitle=withStyles(styles)(function(props){var children=props.children,classes=props.classes,onClose=props.onClose,other=_objectWithoutProperties(props,_excluded);return/*#__PURE__*/_jsxs(MuiDialogTitle,_objectSpread(_objectSpread({disableTypography:true,className:classes.root},other),{},{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:children}),onClose?/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"close\",className:classes.closeButton,onClick:onClose,children:/*#__PURE__*/_jsx(CloseIcon,{})}):null]}));});var DialogContent=withStyles(function(theme){return{root:{padding:theme.spacing(2)}};})(MuiDialogContent);var DialogActions=withStyles(function(theme){return{root:{margin:0,padding:theme.spacing(1)}};})(MuiDialogActions);export default function CustomizedDialogs(props){var _completedCrop$width,_completedCrop$height,_jsxs2;// More Code for Image Crop \nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),upImg=_useState2[0],setUpImg=_useState2[1];var imgRef=useRef(null);var previewCanvasRef=useRef(null);var _useState3=useState({unit:'%',width:30,aspect:16/9}),_useState4=_slicedToArray(_useState3,2),crop=_useState4[0],setCrop=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),completedCrop=_useState6[0],setCompletedCrop=_useState6[1];var classes=styless();var onSelectFile=function onSelectFile(e){if(e.target.files&&e.target.files.length>0){var reader=new FileReader();reader.addEventListener('load',function(){return setUpImg(reader.result);});reader.readAsDataURL(e.target.files[0]);}};var onLoad=useCallback(function(img){imgRef.current=img;},[]);useEffect(function(){if(!completedCrop||!previewCanvasRef.current||!imgRef.current){return;}var image=imgRef.current;var canvas=previewCanvasRef.current;var crop=completedCrop;var scaleX=image.naturalWidth/image.width;var scaleY=image.naturalHeight/image.height;var ctx=canvas.getContext('2d');var pixelRatio=window.devicePixelRatio;canvas.width=crop.width*pixelRatio;canvas.height=crop.height*pixelRatio;ctx.setTransform(pixelRatio,0,0,pixelRatio,0,0);ctx.imageSmoothingQuality='high';ctx.drawImage(image,crop.x*scaleX,crop.y*scaleY,crop.width*scaleX,crop.height*scaleY,0,0,crop.width,crop.height);},[completedCrop]);// End of Crop Image code \nvar _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var file=new File([\"foo\"],\"\",{type:\"text/plain\"});var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),selectedFile=_useState8[0],setSelectedFile=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isFilePicked=_useState10[0],setIsFilePicked=_useState10[1];var changeHandler=function changeHandler(event){setSelectedFile(event.target.files[0]);//setIsSelected(true);\n};var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),fileList=_useState12[0],setFileList=_useState12[1];useEffect(function(){console.log(fileList);});var onDropzoneAreaChange=function onDropzoneAreaChange(files,e){setFileList(files);//console.log(fileList);\n//console.log(\"Files:\", files);\n//   if (!e.target.files[0].name.match(/.(jpg|jpeg|png|gif)$/i)){\n//     alert('not an image');\n// }\n};var history=useHistory();var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),filename=_useState14[0],setFileName=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),filesNa=_useState16[0],setFilesNa=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),modelImg=_useState18[0],setModelImg=_useState18[1];var handleChange=function handleChange(e){if(!e.target.files[0].name.match(/.(pdf|docx)$/i)){var reader=new FileReader();reader.addEventListener('load',function(){return setFileName(reader.result);});reader.readAsDataURL(e.target.files[0]);setFileName(e.target.files[0].name);}else{setFilesNa(handleClicks);// Code for Alert message show below \nsetFilesNa(e.target.files[0].name);}};// Code for Snackbar \nvar _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),opens=_React$useState4[0],setOpens=_React$useState4[1];var handleClicks=function handleClicks(){setOpens(true);};var handleCloses=function handleCloses(event,reason){if(reason==='clickaway'){return;}setOpens(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Button,{onClick:handleClickOpen,variant:\"contained\",style:{background:\"#2121a5\",color:\"white\"},children:[/*#__PURE__*/_jsx(PublishIcon,{}),\"Choose Photo\"]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Dialog,{onClose:handleClose,\"aria-labelledby\":\"customized-dialog-title\",open:open,children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"customized-dialog-title\",onClose:handleClose,children:/*#__PURE__*/_jsxs(\"div\",{children:[\" \",filename!=''?/*#__PURE__*/_jsx(Typography,{children:/*#__PURE__*/_jsx(\"b\",{children:\" Image Crop \"})}):/*#__PURE__*/_jsx(Typography,{children:/*#__PURE__*/_jsx(\"b\",{children:\" File Upload \"})}),\" \"]})}),/*#__PURE__*/_jsx(DialogContent,{dividers:true,children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"File\",style:{width:\"300px\"},children:[/*#__PURE__*/_jsx(Box,{align:\"center\",mt:2,children:filename!=''?/*#__PURE__*/_jsx(\"p\",{}):/*#__PURE__*/_jsx(CloudUploadIcon,{color:\"disabled\",fontSiz:\"large\",style:{width:40,height:40}})}),filename!=''?/*#__PURE__*/_jsx(Typography,{align:\"center\",children:\"Click and drag for cropping\"}):/*#__PURE__*/_jsx(Typography,{align:\"center\",children:filesNa!=''?/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(Alert,{children:filesNa}),\" \"]}):/*#__PURE__*/_jsx(\"h4\",{children:\"No File Selected\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Image\",style:{marginTop:\"10px\"},children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(ReactCrop,{src:filename,onImageLoaded:onLoad,crop:crop,onChange:function onChange(c){return setCrop(c);},onComplete:function onComplete(c){return setCompletedCrop(c);},style:{height:\"120px\",width:\"200px\"}}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"canvas\",{ref:previewCanvasRef// Rounding is important so the canvas width and height matches/is a multiple for sharpness.\n,style:{width:Math.round((_completedCrop$width=completedCrop===null||completedCrop===void 0?void 0:completedCrop.width)!==null&&_completedCrop$width!==void 0?_completedCrop$width:0),height:Math.round((_completedCrop$height=completedCrop===null||completedCrop===void 0?void 0:completedCrop.height)!==null&&_completedCrop$height!==void 0?_completedCrop$height:0)}})})]})}),filename!=''?/*#__PURE__*/_jsx(Box,{align:\"center\",mt:2,children:/*#__PURE__*/_jsx(Button,{type:\"button\",size:\"small\",variant:\"contained\",color:\"secondary\",disabled:!(completedCrop===null||completedCrop===void 0?void 0:completedCrop.width)||!(completedCrop===null||completedCrop===void 0?void 0:completedCrop.height),onClick:function onClick(){return generateDownload(previewCanvasRef.current,completedCrop);},children:\"Download\"})}):/*#__PURE__*/_jsx(Box,{align:\"center\",children:/*#__PURE__*/_jsxs(Button,(_jsxs2={variant:\"contained\",style:{color:\"green\"},size:\"small\",component:\"label\"},_defineProperty(_jsxs2,\"style\",{marginTop:\"10px\"}),_defineProperty(_jsxs2,\"children\",[\"Choose File\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".png, .jpg, .jpeg, .pdf,.docx\",hidden:true,onChange:handleChange})]),_jsxs2))})]})}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{autoFocus:true,onClick:handleClose,style:{color:\"green\"},children:\"Submit\"})})]})}),/*#__PURE__*/_jsx(Snackbar,{anchorOrigin:{vertical:'bottom',horizontal:'left'},open:opens,autoHideDuration:6000,onClose:handleCloses,message:\"File Uploaded Successfully\",ContentProps:{classes:{root:classes.root}},action:/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",\"aria-label\":\"close\",color:\"inherit\",onClick:handleCloses,children:/*#__PURE__*/_jsx(CloseIcon,{fontSize:\"small\"})})})})]});}","map":{"version":3,"sources":["C:/Users/praka/Desktop/deploy/master-admin-Appzo/src/Components/ImageCrop.js"],"names":["React","withStyles","Button","Alert","Dialog","MuiDialogTitle","MuiDialogContent","MuiDialogActions","IconButton","CloseIcon","Box","Typography","PublishIcon","useState","useEffect","useCallback","useRef","CloudUploadIcon","useHistory","ReactCrop","Snackbar","makeStyles","styless","theme","root","background","generateDownload","canvas","crop","toBlob","blob","previewUrl","window","URL","createObjectURL","anchor","document","createElement","download","href","click","revokeObjectURL","styles","margin","padding","spacing","closeButton","position","right","top","color","palette","grey","DialogTitle","props","children","classes","onClose","other","DialogContent","DialogActions","CustomizedDialogs","upImg","setUpImg","imgRef","previewCanvasRef","unit","width","aspect","setCrop","completedCrop","setCompletedCrop","onSelectFile","e","target","files","length","reader","FileReader","addEventListener","result","readAsDataURL","onLoad","img","current","image","scaleX","naturalWidth","scaleY","naturalHeight","height","ctx","getContext","pixelRatio","devicePixelRatio","setTransform","imageSmoothingQuality","drawImage","x","y","open","setOpen","handleClickOpen","handleClose","file","File","type","selectedFile","setSelectedFile","isFilePicked","setIsFilePicked","changeHandler","event","fileList","setFileList","console","log","onDropzoneAreaChange","history","filename","setFileName","filesNa","setFilesNa","modelImg","setModelImg","handleChange","name","match","handleClicks","opens","setOpens","handleCloses","reason","marginTop","c","Math","round","vertical","horizontal"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\n \r\nimport {useState,useEffect,useCallback, useRef} from 'react';\r\n \r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\n \r\nimport { useHistory } from \"react-router-dom\";\r\n \r\nimport 'react-image-crop/dist/ReactCrop.css';\r\nimport ReactCrop from 'react-image-crop';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n \r\nconst styless = makeStyles((theme) => ({\r\n  root: {\r\n    background: '#4caf50'\r\n  }\r\n}));\r\n// Code for Image crop \r\n \r\nfunction generateDownload(canvas, crop) {\r\n  if (!crop || !canvas) {\r\n    return;\r\n  }\r\n \r\n  canvas.toBlob(\r\n    (blob) => {\r\n      const previewUrl = window.URL.createObjectURL(blob);\r\n \r\n      const anchor = document.createElement('a');\r\n      anchor.download = 'cropPreview.png';\r\n      anchor.href = URL.createObjectURL(blob);\r\n      anchor.click();\r\n \r\n      window.URL.revokeObjectURL(previewUrl);\r\n    },\r\n    'image/png',\r\n    1\r\n  );\r\n}\r\n \r\n// End of Image crop \r\n \r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n});\r\n \r\nconst DialogTitle = withStyles(styles)((props) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n \r\nconst DialogContent = withStyles((theme) => ({\r\n  root: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}))(MuiDialogContent);\r\n \r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n \r\nexport default function CustomizedDialogs(props) {\r\n \r\n  // More Code for Image Crop \r\n  const [upImg, setUpImg] = useState();\r\n  const imgRef = useRef(null);\r\n  const previewCanvasRef = useRef(null);\r\n  const [crop, setCrop] = useState({ unit: '%', width: 30, aspect: 16 / 9 });\r\n  const [completedCrop, setCompletedCrop] = useState(null);\r\n \r\n \r\n  const classes = styless();\r\n   \r\n \r\n  const onSelectFile = (e) => {\r\n \r\n \r\n    if (e.target.files && e.target.files.length > 0) {\r\n      const reader = new FileReader();\r\n      reader.addEventListener('load', () => setUpImg(reader.result));\r\n      reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n  };\r\n \r\n  const onLoad = useCallback((img) => {\r\n    imgRef.current = img;\r\n  }, []);\r\n \r\n  useEffect(() => {\r\n    if (!completedCrop || !previewCanvasRef.current || !imgRef.current) {\r\n      return;\r\n    }\r\n \r\n    const image = imgRef.current;\r\n    const canvas = previewCanvasRef.current;\r\n    const crop = completedCrop;\r\n \r\n    const scaleX = image.naturalWidth / image.width;\r\n    const scaleY = image.naturalHeight / image.height;\r\n    const ctx = canvas.getContext('2d');\r\n    const pixelRatio = window.devicePixelRatio;\r\n \r\n    canvas.width = crop.width * pixelRatio;\r\n    canvas.height = crop.height * pixelRatio;\r\n \r\n    ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\r\n    ctx.imageSmoothingQuality = 'high';\r\n \r\n    ctx.drawImage(\r\n      image,\r\n      crop.x * scaleX,\r\n      crop.y * scaleY,\r\n      crop.width * scaleX,\r\n      crop.height * scaleY,\r\n      0,\r\n      0,\r\n      crop.width,\r\n      crop.height\r\n    );\r\n  }, [completedCrop]);\r\n   \r\n  // End of Crop Image code \r\n \r\n  const [open, setOpen] = React.useState(false);\r\n \r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n \r\n  const file = new File([\"foo\"], \"\", {\r\n    type: \"text/plain\",\r\n  });\r\n \r\n  const [selectedFile, setSelectedFile] = useState();\r\n    const [isFilePicked, setIsFilePicked] = useState(false);\r\n \r\n  const changeHandler = (event) => {\r\n        setSelectedFile(event.target.files[0]);\r\n        //setIsSelected(true);\r\n    };\r\n    \r\n \r\n  const [fileList, setFileList] = useState();\r\n \r\n  useEffect(() => {\r\n    console.log(fileList);\r\n  });\r\n \r\n  const onDropzoneAreaChange = (files,e) => {\r\n   \r\n    setFileList(files);\r\n    //console.log(fileList);\r\n    //console.log(\"Files:\", files);\r\n \r\n  //   if (!e.target.files[0].name.match(/.(jpg|jpeg|png|gif)$/i)){\r\n  //     alert('not an image');\r\n  // }\r\n  }; \r\n \r\n  const history = useHistory();\r\n  const[filename,setFileName]= useState([]);\r\n  const[filesNa,setFilesNa]= useState([]);\r\n  const[modelImg,setModelImg] = useState('');\r\n \r\n  const handleChange = (e) =>\r\n  {\r\n      if(!e.target.files[0].name.match(/.(pdf|docx)$/i))\r\n      { \r\n          const reader = new FileReader();\r\n          reader.addEventListener('load', () => setFileName(reader.result));\r\n          reader.readAsDataURL(e.target.files[0]);\r\n          setFileName(e.target.files[0].name)\r\n          }\r\n        else\r\n        {\r\n          setFilesNa(handleClicks) // Code for Alert message show below \r\n          setFilesNa(e.target.files[0].name)\r\n        }\r\n  }\r\n   \r\n   // Code for Snackbar \r\n \r\n   const [opens, setOpens] = React.useState(false);\r\n \r\n   const handleClicks = () => {\r\n     setOpens(true);\r\n   };\r\n  \r\n   const handleCloses = (event, reason) => {\r\n     if (reason === 'clickaway') {\r\n       return;\r\n     }\r\n  \r\n     setOpens(false);\r\n   };\r\n  return (\r\n    <div>\r\n\r\n    <Button onClick={handleClickOpen} variant=\"contained\" style={{background:\"#2121a5\",color:\"white\"}} ><PublishIcon/>Choose Photo</Button>\r\n      <div>  \r\n      <Dialog onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\r\n      <DialogTitle id=\"customized-dialog-title\" onClose={handleClose}>\r\n       <div> {filename != '' ? <Typography><b> Image Crop </b></Typography> : <Typography><b> File Upload </b></Typography> } </div>\r\n      </DialogTitle>\r\n        \r\n          <DialogContent dividers>\r\n            <Box >\r\n            <div className=\"File\" style={{width:\"300px\"}}>\r\n              <Box align=\"center\" mt={2}>\r\n                 \r\n              {filename != '' ? <p></p> : <CloudUploadIcon color=\"disabled\" fontSiz=\"large\"  style={{width:40, height:40,}}/>  }</Box >\r\n \r\n              {filename != '' ? <Typography align=\"center\">Click and drag for cropping</Typography> : <Typography align=\"center\">{ filesNa != '' ? <p><Alert>{filesNa}</Alert> </p> : <h4>No File Selected</h4>}</Typography>  }\r\n                        \r\n            </div>\r\n  \r\n            <div className=\"Image\" style={{marginTop:\"10px\"}}>\r\n             <form>\r\n              <ReactCrop\r\n                src={filename}\r\n                onImageLoaded={onLoad}\r\n                crop={crop}\r\n                onChange={(c) => setCrop(c)}\r\n                onComplete={(c) => setCompletedCrop(c)}\r\n                style={{height:\"120px\",width:\"200px\"}}\r\n              />\r\n               <div>\r\n                <canvas\r\n                  ref={previewCanvasRef}\r\n                  // Rounding is important so the canvas width and height matches/is a multiple for sharpness.\r\n                  style={{\r\n                    width: Math.round(completedCrop?.width ?? 0),\r\n                    height: Math.round(completedCrop?.height ?? 0)\r\n                  }}\r\n                />\r\n             </div>\r\n             \r\n              </form>\r\n            </div>  \r\n            {filename != '' ?\r\n             \r\n            <Box align=\"center\" mt={2}><Button type=\"button\" size=\"small\"  variant=\"contained\" color=\"secondary\"  disabled={!completedCrop?.width || !completedCrop?.height}onClick={() =>generateDownload(previewCanvasRef.current, completedCrop)}>Download</Button></Box>\r\n             \r\n              : <Box align=\"center\">\r\n                 <Button variant=\"contained\" style={{color:\"green\"}} size=\"small\" component=\"label\" style={{marginTop:\"10px\"}}>\r\n                   Choose File\r\n                 <input  type=\"file\" accept=\".png, .jpg, .jpeg, .pdf,.docx\"  hidden onChange={handleChange}/>\r\n                 </Button>   \r\n               </Box>\r\n                }\r\n              </Box>\r\n             \r\n        </DialogContent>\r\n      <DialogActions>\r\n        <Button autoFocus onClick={handleClose} style={{color:\"green\"}}>\r\n         Submit\r\n        </Button>\r\n        \r\n      </DialogActions>\r\n    </Dialog>\r\n    </div>\r\n    <Snackbar\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'left',\r\n        }}\r\n        \r\n        open={opens}\r\n        autoHideDuration={6000}\r\n        onClose={handleCloses}\r\n        message=\"File Uploaded Successfully\"\r\n        ContentProps={{\r\n          classes: {\r\n            root: classes.root\r\n          }\r\n        }}\r\n        action={\r\n          <React.Fragment>\r\n            \r\n            <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleCloses}>\r\n              <CloseIcon fontSize=\"small\" />\r\n            </IconButton>\r\n          </React.Fragment>\r\n        }\r\n      />\r\n    </div>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}